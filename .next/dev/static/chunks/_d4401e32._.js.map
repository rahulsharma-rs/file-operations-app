{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/Sidebar.tsx"],"sourcesContent":["\n\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuTrigger,\n    DropdownMenuSeparator,\n} from \"@/components/ui/dropdown-menu\"\nimport {\n    Home,\n    Users,\n    Clock,\n    Star,\n    Trash2,\n    Plus,\n    FolderPlus,\n    FilePlus,\n    Upload,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface SidebarProps extends React.HTMLAttributes<HTMLDivElement> {\n    currentCategory: string\n    onCategoryChange: (category: string) => void\n    onNewItem: (type: 'folder' | 'file' | 'script' | 'upload') => void\n}\n\nexport function Sidebar({ className, currentCategory, onCategoryChange, onNewItem }: SidebarProps) {\n    const navItems = [\n        { name: \"Home\", icon: Home, id: \"home\" },\n        { name: \"Shared Projects\", icon: Users, id: \"shared\" },\n        { name: \"Recent Files\", icon: Clock, id: \"recent\" },\n        { name: \"Favorites\", icon: Star, id: \"favorites\" },\n        { name: \"Trash / Archive\", icon: Trash2, id: \"trash\" },\n    ]\n\n    return (\n        <div className={cn(\"pb-12 w-64 border-r min-h-screen bg-card\", className)}>\n            <div className=\"space-y-4 py-4\">\n                <div className=\"px-3 py-2\">\n                    <div className=\"mb-6 px-4\">\n                        <h2 className=\"text-xl font-bold tracking-tight mb-4\">HPC Explorer</h2>\n                        <DropdownMenu>\n                            <DropdownMenuTrigger asChild>\n                                <Button className=\"w-full justify-start gap-2 shadow-md\" size=\"lg\">\n                                    <Plus className=\"h-5 w-5\" />\n                                    New\n                                </Button>\n                            </DropdownMenuTrigger>\n                            <DropdownMenuContent className=\"w-56\" align=\"start\">\n                                <DropdownMenuItem onClick={() => onNewItem('folder')}>\n                                    <FolderPlus className=\"mr-2 h-4 w-4\" />\n                                    <span>New Folder</span>\n                                </DropdownMenuItem>\n                                <DropdownMenuSeparator />\n                                <DropdownMenuItem onClick={() => onNewItem('upload')}>\n                                    <Upload className=\"mr-2 h-4 w-4\" />\n                                    <span>File Upload</span>\n                                </DropdownMenuItem>\n                                <DropdownMenuItem onClick={() => onNewItem('upload')}>\n                                    <Upload className=\"mr-2 h-4 w-4\" />\n                                    <span>Folder Upload</span>\n                                </DropdownMenuItem>\n                                <DropdownMenuSeparator />\n                                <DropdownMenuItem onClick={() => onNewItem('script')}>\n                                    <FilePlus className=\"mr-2 h-4 w-4\" />\n                                    <span>New Script (.sh)</span>\n                                </DropdownMenuItem>\n                                <DropdownMenuItem onClick={() => onNewItem('script')}>\n                                    <FilePlus className=\"mr-2 h-4 w-4\" />\n                                    <span>New Script (.py)</span>\n                                </DropdownMenuItem>\n                            </DropdownMenuContent>\n                        </DropdownMenu>\n                    </div>\n\n                    <div className=\"space-y-1\">\n                        {navItems.map((item) => (\n                            <Button\n                                key={item.id}\n                                variant={currentCategory === item.id ? \"secondary\" : \"ghost\"}\n                                className={cn(\n                                    \"w-full justify-start\",\n                                    currentCategory === item.id && \"font-semibold\"\n                                )}\n                                onClick={() => onCategoryChange(item.id)}\n                            >\n                                <item.icon className=\"mr-2 h-4 w-4\" />\n                                {item.name}\n                            </Button>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AArBA;;;;;;AA6BO,SAAS,QAAQ,EAAE,SAAS,EAAE,eAAe,EAAE,gBAAgB,EAAE,SAAS,EAAgB;IAC7F,MAAM,WAAW;QACb;YAAE,MAAM;YAAQ,MAAM,8MAAI;YAAE,IAAI;QAAO;QACvC;YAAE,MAAM;YAAmB,MAAM,gNAAK;YAAE,IAAI;QAAS;QACrD;YAAE,MAAM;YAAgB,MAAM,gNAAK;YAAE,IAAI;QAAS;QAClD;YAAE,MAAM;YAAa,MAAM,6MAAI;YAAE,IAAI;QAAY;QACjD;YAAE,MAAM;YAAmB,MAAM,uNAAM;YAAE,IAAI;QAAQ;KACxD;IAED,qBACI,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,4CAA4C;kBAC3D,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,6LAAC,wJAAY;;kDACT,6LAAC,+JAAmB;wCAAC,OAAO;kDACxB,cAAA,6LAAC,wIAAM;4CAAC,WAAU;4CAAuC,MAAK;;8DAC1D,6LAAC,6MAAI;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;kDAIpC,6LAAC,+JAAmB;wCAAC,WAAU;wCAAO,OAAM;;0DACxC,6LAAC,4JAAgB;gDAAC,SAAS,IAAM,UAAU;;kEACvC,6LAAC,mOAAU;wDAAC,WAAU;;;;;;kEACtB,6LAAC;kEAAK;;;;;;;;;;;;0DAEV,6LAAC,iKAAqB;;;;;0DACtB,6LAAC,4JAAgB;gDAAC,SAAS,IAAM,UAAU;;kEACvC,6LAAC,mNAAM;wDAAC,WAAU;;;;;;kEAClB,6LAAC;kEAAK;;;;;;;;;;;;0DAEV,6LAAC,4JAAgB;gDAAC,SAAS,IAAM,UAAU;;kEACvC,6LAAC,mNAAM;wDAAC,WAAU;;;;;;kEAClB,6LAAC;kEAAK;;;;;;;;;;;;0DAEV,6LAAC,iKAAqB;;;;;0DACtB,6LAAC,4JAAgB;gDAAC,SAAS,IAAM,UAAU;;kEACvC,6LAAC,6NAAQ;wDAAC,WAAU;;;;;;kEACpB,6LAAC;kEAAK;;;;;;;;;;;;0DAEV,6LAAC,4JAAgB;gDAAC,SAAS,IAAM,UAAU;;kEACvC,6LAAC,6NAAQ;wDAAC,WAAU;;;;;;kEACpB,6LAAC;kEAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAMtB,6LAAC;wBAAI,WAAU;kCACV,SAAS,GAAG,CAAC,CAAC,qBACX,6LAAC,wIAAM;gCAEH,SAAS,oBAAoB,KAAK,EAAE,GAAG,cAAc;gCACrD,WAAW,IAAA,qHAAE,EACT,wBACA,oBAAoB,KAAK,EAAE,IAAI;gCAEnC,SAAS,IAAM,iBAAiB,KAAK,EAAE;;kDAEvC,6LAAC,KAAK,IAAI;wCAAC,WAAU;;;;;;oCACpB,KAAK,IAAI;;+BATL,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;AAiB5C;KArEgB"}},
    {"offset": {"line": 692, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/table.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,6LAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,6LAAC;YACC,aAAU;YACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 836, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/FileList.tsx"],"sourcesContent":["\n\"use client\"\n\nimport { FileItem } from \"@/lib/mockData\"\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableHeader,\n    TableRow,\n} from \"@/components/ui/table\"\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuSeparator,\n    DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n    MoreVertical,\n    Folder,\n    FileText,\n    FileCode,\n    Database,\n    Archive,\n    Download,\n    Pencil,\n    Move,\n    Trash2,\n\n    Copy,\n    Shield,\n    Share2\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { toast } from \"sonner\"\n\ninterface FileListProps {\n    files: FileItem[]\n    onFileSelect: (file: FileItem) => void\n    onFolderNavigate: (folderId: string) => void\n    onSort: (column: string) => void\n    sortConfig: { column: string, direction: 'asc' | 'desc' }\n    viewMode: 'list' | 'grid'\n    onRename: (id: string) => void\n    onDelete: (id: string) => void\n    onCopyPath: (file: FileItem) => void\n    onDownload: (file: FileItem) => void\n    onShare: (file: FileItem) => void\n}\n\nexport function FileList({\n    files,\n    onFileSelect,\n    onFolderNavigate,\n    onSort,\n    sortConfig,\n    viewMode,\n    onRename,\n    onDelete,\n    onCopyPath,\n    onDownload,\n    onShare\n}: FileListProps) {\n\n    const getIcon = (type: FileItem['type']) => {\n        switch (type) {\n            case 'folder': return <Folder className=\"h-6 w-6 text-blue-500 fill-blue-500/20\" />\n            case 'script': return <FileCode className=\"h-6 w-6 text-green-500\" />\n            case 'data': return <Database className=\"h-6 w-6 text-yellow-500\" />\n            case 'archive': return <Archive className=\"h-6 w-6 text-orange-500\" />\n            default: return <FileText className=\"h-6 w-6 text-gray-500\" />\n        }\n    }\n\n    const formatSize = (bytes: number) => {\n        if (bytes === 0) return \"-\"\n        const k = 1024\n        const sizes = ['B', 'KB', 'MB', 'GB', 'TB']\n        const i = Math.floor(Math.log(bytes) / Math.log(k))\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i]\n    }\n\n    // Double click logic wrapper to prevent single click firing on double click if needed,\n    // but for now simple separation is fine. List vs Grid handled below.\n\n    if (viewMode === 'grid') {\n        return (\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4\">\n                {files.map((file) => (\n                    <div\n                        key={file.id}\n                        className=\"group relative flex flex-col items-center p-4 border rounded-xl hover:bg-muted/50 cursor-pointer transition-colors\"\n                        onClick={() => onFileSelect(file)}\n                        onDoubleClick={(e) => {\n                            e.stopPropagation()\n                            if (file.type === 'folder') onFolderNavigate(file.id)\n                        }}\n                    >\n                        <div\n                            className=\"mb-3 p-3 bg-muted/30 rounded-full group-hover:bg-background transition-colors\"\n                            onClick={(e) => {\n                                if (file.type === 'folder') {\n                                    e.stopPropagation()\n                                    onFolderNavigate(file.id)\n                                }\n                            }}\n                        >\n                            {getIcon(file.type)}\n                        </div>\n                        <span className=\"text-sm font-medium text-center truncate w-full px-2\" title={file.name}>\n                            {file.name}\n                        </span>\n                        <span className=\"text-xs text-muted-foreground mt-1\">\n                            {formatSize(file.sizeBytes)}\n                        </span>\n\n                        <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                            <DropdownMenu>\n                                <DropdownMenuTrigger asChild>\n                                    <Button variant=\"ghost\" className=\"h-6 w-6 p-0\">\n                                        <MoreVertical className=\"h-3 w-3\" />\n                                    </Button>\n                                </DropdownMenuTrigger>\n                                <DropdownMenuContent align=\"end\">\n                                    <DropdownMenuItem onClick={() => onShare(file)}>\n                                        <Share2 className=\"mr-2 h-4 w-4\" /> Share\n                                    </DropdownMenuItem>\n                                    <DropdownMenuItem onClick={() => onDownload(file)}>\n                                        <Download className=\"mr-2 h-4 w-4\" /> Download\n                                    </DropdownMenuItem>\n                                    <DropdownMenuItem onClick={() => onRename(file.id)}>\n                                        <Pencil className=\"mr-2 h-4 w-4\" /> Rename\n                                    </DropdownMenuItem>\n                                    <DropdownMenuItem>\n                                        <Move className=\"mr-2 h-4 w-4\" /> Move\n                                    </DropdownMenuItem>\n                                    <DropdownMenuItem onClick={() => onCopyPath(file)}>\n                                        <Copy className=\"mr-2 h-4 w-4\" /> Copy Path\n                                    </DropdownMenuItem>\n                                    <DropdownMenuSeparator />\n                                    <DropdownMenuItem onClick={() => toast(\"Permissions\", { description: file.permissions })}>\n                                        <Shield className=\"mr-2 h-4 w-4\" /> Permissions\n                                    </DropdownMenuItem>\n                                    <DropdownMenuSeparator />\n                                    <DropdownMenuItem className=\"text-red-600\" onClick={() => onDelete(file.id)}>\n                                        <Trash2 className=\"mr-2 h-4 w-4\" /> Delete\n                                    </DropdownMenuItem>\n                                </DropdownMenuContent>\n                            </DropdownMenu>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"rounded-md border\">\n            <Table>\n                <TableHeader>\n                    <TableRow>\n                        <TableHead className=\"w-[40%] cursor-pointer hover:bg-muted/50\" onClick={() => onSort('name')}>\n                            Name {sortConfig.column === 'name' && (sortConfig.direction === 'asc' ? '↑' : '↓')}\n                        </TableHead>\n                        <TableHead className=\"cursor-pointer hover:bg-muted/50\" onClick={() => onSort('owner')}>\n                            Owner\n                        </TableHead>\n                        <TableHead className=\"cursor-pointer hover:bg-muted/50\" onClick={() => onSort('modifiedAt')}>\n                            Last Modified\n                        </TableHead>\n                        <TableHead className=\"cursor-pointer hover:bg-muted/50\" onClick={() => onSort('sizeBytes')}>\n                            Size\n                        </TableHead>\n                        <TableHead className=\"w-[50px]\"></TableHead>\n                    </TableRow>\n                </TableHeader>\n                <TableBody>\n                    {files.map((file) => (\n                        <TableRow\n                            key={file.id}\n                            className=\"cursor-pointer\"\n                            onClick={() => onFileSelect(file)}\n                            onDoubleClick={(e) => {\n                                e.stopPropagation()\n                                if (file.type === 'folder') onFolderNavigate(file.id)\n                            }}\n                        >\n                            <TableCell className=\"font-medium\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div\n                                        className=\"cursor-pointer\"\n                                        onClick={(e) => {\n                                            if (file.type === 'folder') {\n                                                e.stopPropagation()\n                                                onFolderNavigate(file.id)\n                                            }\n                                        }}\n                                    >\n                                        {getIcon(file.type)}\n                                    </div>\n                                    <span>{file.name}</span>\n                                </div>\n                            </TableCell>\n                            <TableCell>{file.owner}</TableCell>\n                            <TableCell>{new Date(file.modifiedAt).toLocaleDateString()}</TableCell>\n                            <TableCell>{formatSize(file.sizeBytes)}</TableCell>\n                            <TableCell onClick={(e) => e.stopPropagation()}>\n                                <DropdownMenu>\n                                    <DropdownMenuTrigger asChild>\n                                        <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\n                                            <span className=\"sr-only\">Open menu</span>\n                                            <MoreVertical className=\"h-4 w-4\" />\n                                        </Button>\n                                    </DropdownMenuTrigger>\n                                    <DropdownMenuContent align=\"end\">\n                                        <DropdownMenuItem onClick={() => onShare(file)}>\n                                            <Share2 className=\"mr-2 h-4 w-4\" /> Share\n                                        </DropdownMenuItem>\n                                        <DropdownMenuItem onClick={() => onDownload(file)}>\n                                            <Download className=\"mr-2 h-4 w-4\" /> Download\n                                        </DropdownMenuItem>\n                                        <DropdownMenuItem onClick={() => onRename(file.id)}>\n                                            <Pencil className=\"mr-2 h-4 w-4\" /> Rename\n                                        </DropdownMenuItem>\n                                        <DropdownMenuItem>\n                                            <Move className=\"mr-2 h-4 w-4\" /> Move\n                                        </DropdownMenuItem>\n                                        <DropdownMenuItem onClick={() => onCopyPath(file)}>\n                                            <Copy className=\"mr-2 h-4 w-4\" /> Copy Path\n                                        </DropdownMenuItem>\n                                        <DropdownMenuSeparator />\n                                        <DropdownMenuItem onClick={(e) => {\n                                            e.stopPropagation()\n                                            toast(\"Permissions\", { description: file.permissions })\n                                        }}>\n                                            <Shield className=\"mr-2 h-4 w-4\" /> Permissions\n                                        </DropdownMenuItem>\n                                        <DropdownMenuSeparator />\n                                        <DropdownMenuItem className=\"text-red-600\" onClick={() => onDelete(file.id)}>\n                                            <Trash2 className=\"mr-2 h-4 w-4\" /> Delete\n                                        </DropdownMenuItem>\n                                    </DropdownMenuContent>\n                                </DropdownMenu>\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1510, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/sheet.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SheetPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = 'right',\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: 'top' | 'right' | 'bottom' | 'left'\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500',\n          side === 'right' &&\n            'data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm',\n          side === 'left' &&\n            'data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm',\n          side === 'top' &&\n            'data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b',\n          side === 'bottom' &&\n            'data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn('flex flex-col gap-1.5 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn('mt-auto flex flex-col gap-2 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn('text-foreground font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,6LAAC,6KAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;KAFS;AAIT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,gLAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,6LAAC,8KAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,+KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,6LAAC,gLAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,4MAAK;gCAAC,WAAU;;;;;;0CACjB,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;MAnCS;AAqCT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,8KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,6LAAC,oLAA0B;QACzB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 1712, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/separator.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\n\nimport { cn } from '@/lib/utils'\n\nfunction Separator({\n  className,\n  orientation = 'horizontal',\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        'bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,qHAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf;KAlBS"}},
    {"offset": {"line": 1747, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/app/actions.ts"],"sourcesContent":["'use server'\n\nimport fs from 'fs/promises'\nimport path from 'path'\nimport os from 'os'\nimport { FileItem } from '@/lib/mockData'\n\nconst BASE_PATH = os.homedir()\n\nexport async function getFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(BASE_PATH, relativePath)\n\n        // Security check: Ensure we don't escape home directory (basic check)\n        if (!fullPath.startsWith(BASE_PATH)) {\n            throw new Error(\"Access denied: Cannot traverse above home directory\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n                else if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n\n                // Permission string simulation (Node fs doesn't give \"rwx\" string directly easily across platforms, \n                // but we can approximate from mode)\n                const perms = (stats.mode & parseInt('777', 8)).toString(8) // simple octal\n\n                return {\n                    id: entryPath, // Use path as ID\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}` // Mocking the rwx string is complex, showing octal for now\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error reading directory:\", error)\n        return []\n    }\n}\n\nimport { exec } from 'child_process'\nimport util from 'util'\n\nconst execAsync = util.promisify(exec)\n\nconst usernameCache = new Map<number, string>()\n\nasync function getUsername(uid: number): Promise<string> {\n    if (usernameCache.has(uid)) return usernameCache.get(uid)!\n    try {\n        const { stdout } = await execAsync(`id -nu ${uid}`)\n        const name = stdout.trim()\n        usernameCache.set(uid, name)\n        return name\n    } catch (e) {\n        return String(uid)\n    }\n}\n\nasync function userExists(username: string): Promise<boolean> {\n    try {\n        await execAsync(`id -u ${username}`)\n        return true\n    } catch (error) {\n        return false\n    }\n}\n\nexport async function shareFile(sourcePath: string, targetUsername: string): Promise<{ success: boolean, message: string }> {\n    // Validate target user exists\n    if (!await userExists(targetUsername)) {\n        return { success: false, message: `User '${targetUsername}' does not exist on this system.` }\n    }\n\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const targetUserDir = path.join(sharedRoot, targetUsername)\n\n        // Ensure shared directories exist\n        await fs.mkdir(targetUserDir, { recursive: true })\n\n        const sourceName = path.basename(sourcePath)\n        const destPath = path.join(targetUserDir, sourceName)\n\n        try {\n            await fs.symlink(sourcePath, destPath)\n            return { success: true, message: `Successfully shared with ${targetUsername}` }\n        } catch (e: any) {\n            if (e.code === 'EEXIST') {\n                return { success: false, message: `Already shared with ${targetUsername}` }\n            }\n            throw e\n        }\n    } catch (error: any) {\n        console.error(\"Error sharing file:\", error)\n        return { success: false, message: error.message || \"Failed to share file\" }\n    }\n}\n\nexport async function getFileShares(filePath: string): Promise<string[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n\n        // Scan all user directories in shared root\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n            const shares: string[] = []\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            if (target === filePath) {\n                                shares.push(userDir.name)\n                            }\n                        } catch (e) {\n                            // Not a symlink or other error, ignore\n                        }\n                    }\n                } catch (e) {\n                    // Cannot read user dir, ignore\n                }\n            }\n            return shares\n        } catch (e) {\n            // Shared root likely doesn't exist yet\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting shares:\", error)\n        return []\n    }\n}\n\nexport async function getSharedFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const currentUser = os.userInfo().username\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared', currentUser)\n\n        await fs.mkdir(sharedRoot, { recursive: true })\n\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(sharedRoot, relativePath)\n\n        // Security check\n        if (!fullPath.startsWith(sharedRoot)) {\n            throw new Error(\"Access denied: Cannot traverse above shared root\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n\n                // For shared files, we might want to know who shared it (the link owner usually)\n                // but lstat on the link itself in the parent dir might be needed if we want link info.\n                // For now, presenting the target file info is fine.\n\n                // Determine type extension logic same as getFiles\n                if (!entry.isDirectory()) {\n                    if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                    else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                    else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n                }\n\n                const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                return {\n                    id: entryPath,\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}`\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error getting shared files:\", error)\n        return []\n    }\n}\n\nexport interface SharedFileItem extends FileItem {\n    sharedWith: { username: string, linkPath: string }[]\n}\n\nexport async function getOutgoingShares(): Promise<SharedFileItem[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const myHome = os.homedir()\n\n        // Map of sourcePath -> { sharedWith: [] }\n        const shareMap = new Map<string, { username: string, linkPath: string }[]>()\n\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            // Check if target is inside my home directory (or belongs to me)\n                            // Ideally check if I own the target file\n                            if (target.startsWith(myHome)) {\n                                if (!shareMap.has(target)) {\n                                    shareMap.set(target, [])\n                                }\n                                shareMap.get(target)?.push({ username: userDir.name, linkPath })\n                            }\n                        } catch (e) {\n                            // Not a symlink\n                        }\n                    }\n                } catch (e) {\n                    // Ignore\n                }\n            }\n\n            // Convert map to SharedFileItem list\n            const results: SharedFileItem[] = []\n            for (const [filePath, shares] of shareMap.entries()) {\n                try {\n                    const stats = await fs.stat(filePath)\n                    const name = path.basename(filePath)\n\n                    let type: FileItem['type'] = 'file'\n                    if (stats.isDirectory()) type = 'folder'\n                    else if (name.endsWith('.sh') || name.endsWith('.py')) type = 'script'\n                    else if (name.endsWith('.csv') || name.endsWith('.json')) type = 'data'\n                    else if (name.endsWith('.zip') || name.endsWith('.tar') || name.endsWith('.gz')) type = 'archive'\n\n                    const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                    results.push({\n                        id: filePath,\n                        name: name,\n                        type: type,\n                        path: filePath,\n                        owner: await getUsername(stats.uid),\n                        group: String(stats.gid),\n                        modifiedAt: stats.mtime.toISOString(),\n                        sizeBytes: stats.size,\n                        permissions: `0${perms}`,\n                        sharedWith: shares\n                    })\n                } catch (e) {\n                    // File might have been deleted but link exists\n                }\n            }\n            return results\n\n        } catch (e) {\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting outgoing shares:\", error)\n        return []\n    }\n}\n\nexport async function unshareFile(targetUsername: string, fileName: string): Promise<{ success: boolean, message: string }> {\n    try {\n        const sharedLinkPath = path.join(os.homedir(), 'hpc_shared', targetUsername, fileName)\n        await fs.unlink(sharedLinkPath)\n        return { success: true, message: `Unshared ${fileName} with ${targetUsername}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to unshare\" }\n    }\n}\n\nexport async function changePermissions(filePath: string, mode: string): Promise<{ success: boolean, message: string }> {\n    try {\n        await fs.chmod(filePath, mode)\n        return { success: true, message: `Updated permissions for ${path.basename(filePath)}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to change permissions\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAsHsB,gBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 1762, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/DetailsDrawer.tsx"],"sourcesContent":["\n\"use client\"\n\nimport {\n    Sheet,\n    SheetContent,\n    SheetHeader,\n    SheetTitle,\n    SheetDescription,\n    SheetFooter,\n} from \"@/components/ui/sheet\"\nimport { Button } from \"@/components/ui/button\"\nimport { FileItem } from \"@/lib/mockData\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n    FileText,\n    Folder,\n    Download,\n    Copy,\n    HardDrive,\n    Calendar,\n    User,\n    CheckCircle2,\n    Clock,\n\n    Shield,\n    FileCode,\n    Database,\n    Archive,\n    Share2\n} from \"lucide-react\"\nimport { getFileShares } from \"@/app/actions\"\nimport { useEffect, useState } from \"react\"\n\ninterface DetailsDrawerProps {\n    isOpen: boolean\n    onClose: () => void\n    file: FileItem | null\n    onCopyPath: (file: FileItem) => void\n    onDownload: (file: FileItem) => void\n    onShare: (file: FileItem) => void\n}\n\nexport function DetailsDrawer({ isOpen, onClose, file, onCopyPath, onDownload, onShare }: DetailsDrawerProps) {\n    const [shares, setShares] = useState<string[]>([])\n\n    useEffect(() => {\n        const loadShares = async () => {\n            if (file && isOpen) {\n                setShares([])\n                const sharedUsers = await getFileShares(file.path)\n                setShares(sharedUsers)\n            }\n        }\n        loadShares()\n    }, [file, isOpen])\n\n    if (!file) return null\n\n    const getIcon = (type: FileItem['type']) => {\n        switch (type) {\n            case 'folder': return <Folder className=\"h-10 w-10 text-blue-500\" />\n            case 'script': return <FileCode className=\"h-10 w-10 text-green-500\" />\n            case 'data': return <Database className=\"h-10 w-10 text-yellow-500\" />\n            case 'archive': return <Archive className=\"h-10 w-10 text-orange-500\" />\n            default: return <FileText className=\"h-10 w-10 text-gray-500\" />\n        }\n    }\n\n    const formatSize = (bytes: number) => {\n        if (bytes === 0) return \"-\"\n        const k = 1024\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB']\n        const i = Math.floor(Math.log(bytes) / Math.log(k))\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n\n    return (\n        <Sheet open={isOpen} onOpenChange={onClose}>\n            <SheetContent className=\"w-[400px] sm:w-[540px]\">\n                <SheetHeader className=\"mb-6\">\n                    <div className=\"flex items-center gap-4\">\n                        {getIcon(file.type)}\n                        <div>\n                            <SheetTitle className=\"text-xl break-all\">{file.name}</SheetTitle>\n                            <SheetDescription>\n                                {file.path}\n                            </SheetDescription>\n                        </div>\n                    </div>\n                </SheetHeader>\n\n                <div className=\"space-y-6\">\n                    <div className=\"flex gap-2\">\n                        <Button className=\"flex-1 gap-2\" onClick={() => onDownload(file)}>\n                            <Download className=\"h-4 w-4\" />\n                            Download\n                        </Button>\n                        <Button variant=\"outline\" className=\"flex-1 gap-2\" onClick={() => onCopyPath(file)}>\n                            <Copy className=\"h-4 w-4\" />\n                            Copy Path\n                        </Button>\n                    </div>\n                    <Button variant=\"secondary\" className=\"w-full gap-2\" onClick={() => onShare(file)}>\n                        <Share2 className=\"h-4 w-4\" />\n                        Share (Symlink)\n                    </Button>\n\n                    {shares.length > 0 && (\n                        <div>\n                            <div className=\"text-sm font-medium mb-2\">Shared with</div>\n                            <div className=\"flex flex-wrap gap-2\">\n                                {shares.map(user => (\n                                    <div key={user} className=\"bg-secondary text-secondary-foreground text-xs px-2.5 py-0.5 rounded-full flex items-center gap-1\">\n                                        <User className=\"h-3 w-3\" />\n                                        {user}\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    )}\n\n                    <Separator />\n\n                    <div className=\"space-y-4\">\n                        <h3 className=\"font-semibold text-sm text-muted-foreground uppercase tracking-wider\">Details</h3>\n\n                        <div className=\"grid grid-cols-[24px_1fr_1fr] gap-4 items-center\">\n                            <HardDrive className=\"h-4 w-4 text-muted-foreground\" />\n                            <span className=\"text-sm font-medium\">Size</span>\n                            <span className=\"text-sm\">{formatSize(file.sizeBytes)}</span>\n\n                            <User className=\"h-4 w-4 text-muted-foreground\" />\n                            <span className=\"text-sm font-medium\">Owner / Group</span>\n                            <span className=\"text-sm\">{file.owner} : {file.group}</span>\n\n                            <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                            <span className=\"text-sm font-medium\">Modified</span>\n                            <span className=\"text-sm\">{new Date(file.modifiedAt).toLocaleDateString()}</span>\n\n                            <Shield className=\"h-4 w-4 text-muted-foreground\" />\n                            <span className=\"text-sm font-medium\">Permissions</span>\n                            <code className=\"text-xs bg-muted p-1 rounded font-mono\">{file.permissions}</code>\n\n                            <FileText className=\"h-4 w-4 text-muted-foreground\" />\n                            <span className=\"text-sm font-medium\">Type</span>\n                            <span className=\"text-sm capitalize\">{file.type}</span>\n                        </div>\n                    </div>\n                </div>\n\n                <SheetFooter className=\"mt-8\">\n                    {/* Add footer if needed */}\n                </SheetFooter>\n            </SheetContent>\n        </Sheet>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2211, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,+KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,8KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,4MAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,oLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 2417, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 2448, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 2481, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ShareDialog.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogFooter,\n    DialogHeader,\n    DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\nimport { Label } from \"@/components/ui/label\"\nimport { FileItem } from \"@/lib/mockData\"\n\ninterface ShareDialogProps {\n    isOpen: boolean\n    onClose: () => void\n    onConfirm: (username: string) => Promise<void> // Confirm is async\n    file: FileItem | null\n}\n\nexport function ShareDialog({ isOpen, onClose, onConfirm, file }: ShareDialogProps) {\n    const [username, setUsername] = useState(\"\")\n    const [isLoading, setIsLoading] = useState(false)\n\n    // Reset username when dialog opens\n    useEffect(() => {\n        if (isOpen) setUsername(\"\")\n    }, [isOpen])\n\n    const handleConfirm = async () => {\n        if (!username.trim()) return\n\n        setIsLoading(true)\n        try {\n            await onConfirm(username)\n            onClose()\n        } catch (error) {\n            // Error handling should be done by parent (e.g. showing toast), \n            // but we ensure we stop loading state if error happens here or just finish.\n            // Actually parent catches error for Toast, so we usually just finish.\n        } finally {\n            setIsLoading(false)\n        }\n    }\n\n    if (!file) return null\n\n    return (\n        <Dialog open={isOpen} onOpenChange={onClose}>\n            <DialogContent className=\"sm:max-w-[425px]\">\n                <DialogHeader>\n                    <DialogTitle>Share File</DialogTitle>\n                    <DialogDescription>\n                        Create a symlink for <b>{file.name}</b> in another user's shared folder.\n                    </DialogDescription>\n                </DialogHeader>\n                <div className=\"grid gap-4 py-4\">\n                    <div className=\"grid grid-cols-4 items-center gap-4\">\n                        <Label htmlFor=\"username\" className=\"text-right\">\n                            Username\n                        </Label>\n                        <Input\n                            id=\"username\"\n                            value={username}\n                            onChange={(e) => setUsername(e.target.value)}\n                            className=\"col-span-3\"\n                            placeholder=\"e.g. alice\"\n                            onKeyDown={(e) => {\n                                if (e.key === \"Enter\") handleConfirm()\n                            }}\n                        />\n                    </div>\n                </div>\n                <DialogFooter>\n                    <Button variant=\"outline\" onClick={onClose} disabled={isLoading}>\n                        Cancel\n                    </Button>\n                    <Button onClick={handleConfirm} disabled={!username.trim() || isLoading}>\n                        {isLoading ? \"Sharing...\" : \"Share\"}\n                    </Button>\n                </DialogFooter>\n            </DialogContent>\n        </Dialog>\n    )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAQA;AACA;AACA;;;AAbA;;;;;;AAuBO,SAAS,YAAY,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAoB;;IAC9E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,mCAAmC;IACnC,IAAA,0KAAS;iCAAC;YACN,IAAI,QAAQ,YAAY;QAC5B;gCAAG;QAAC;KAAO;IAEX,MAAM,gBAAgB;QAClB,IAAI,CAAC,SAAS,IAAI,IAAI;QAEtB,aAAa;QACb,IAAI;YACA,MAAM,UAAU;YAChB;QACJ,EAAE,OAAO,OAAO;QACZ,iEAAiE;QACjE,4EAA4E;QAC5E,sEAAsE;QAC1E,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACI,6LAAC,wIAAM;QAAC,MAAM;QAAQ,cAAc;kBAChC,cAAA,6LAAC,+IAAa;YAAC,WAAU;;8BACrB,6LAAC,8IAAY;;sCACT,6LAAC,6IAAW;sCAAC;;;;;;sCACb,6LAAC,mJAAiB;;gCAAC;8CACM,6LAAC;8CAAG,KAAK,IAAI;;;;;;gCAAK;;;;;;;;;;;;;8BAG/C,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,sIAAK;gCAAC,SAAQ;gCAAW,WAAU;0CAAa;;;;;;0CAGjD,6LAAC,sIAAK;gCACF,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,WAAU;gCACV,aAAY;gCACZ,WAAW,CAAC;oCACR,IAAI,EAAE,GAAG,KAAK,SAAS;gCAC3B;;;;;;;;;;;;;;;;;8BAIZ,6LAAC,8IAAY;;sCACT,6LAAC,wIAAM;4BAAC,SAAQ;4BAAU,SAAS;4BAAS,UAAU;sCAAW;;;;;;sCAGjE,6LAAC,wIAAM;4BAAC,SAAS;4BAAe,UAAU,CAAC,SAAS,IAAI,MAAM;sCACzD,YAAY,eAAe;;;;;;;;;;;;;;;;;;;;;;;AAMpD;GAhEgB;KAAA"}},
    {"offset": {"line": 2653, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/app/actions.ts"],"sourcesContent":["'use server'\n\nimport fs from 'fs/promises'\nimport path from 'path'\nimport os from 'os'\nimport { FileItem } from '@/lib/mockData'\n\nconst BASE_PATH = os.homedir()\n\nexport async function getFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(BASE_PATH, relativePath)\n\n        // Security check: Ensure we don't escape home directory (basic check)\n        if (!fullPath.startsWith(BASE_PATH)) {\n            throw new Error(\"Access denied: Cannot traverse above home directory\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n                else if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n\n                // Permission string simulation (Node fs doesn't give \"rwx\" string directly easily across platforms, \n                // but we can approximate from mode)\n                const perms = (stats.mode & parseInt('777', 8)).toString(8) // simple octal\n\n                return {\n                    id: entryPath, // Use path as ID\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}` // Mocking the rwx string is complex, showing octal for now\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error reading directory:\", error)\n        return []\n    }\n}\n\nimport { exec } from 'child_process'\nimport util from 'util'\n\nconst execAsync = util.promisify(exec)\n\nconst usernameCache = new Map<number, string>()\n\nasync function getUsername(uid: number): Promise<string> {\n    if (usernameCache.has(uid)) return usernameCache.get(uid)!\n    try {\n        const { stdout } = await execAsync(`id -nu ${uid}`)\n        const name = stdout.trim()\n        usernameCache.set(uid, name)\n        return name\n    } catch (e) {\n        return String(uid)\n    }\n}\n\nasync function userExists(username: string): Promise<boolean> {\n    try {\n        await execAsync(`id -u ${username}`)\n        return true\n    } catch (error) {\n        return false\n    }\n}\n\nexport async function shareFile(sourcePath: string, targetUsername: string): Promise<{ success: boolean, message: string }> {\n    // Validate target user exists\n    if (!await userExists(targetUsername)) {\n        return { success: false, message: `User '${targetUsername}' does not exist on this system.` }\n    }\n\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const targetUserDir = path.join(sharedRoot, targetUsername)\n\n        // Ensure shared directories exist\n        await fs.mkdir(targetUserDir, { recursive: true })\n\n        const sourceName = path.basename(sourcePath)\n        const destPath = path.join(targetUserDir, sourceName)\n\n        try {\n            await fs.symlink(sourcePath, destPath)\n            return { success: true, message: `Successfully shared with ${targetUsername}` }\n        } catch (e: any) {\n            if (e.code === 'EEXIST') {\n                return { success: false, message: `Already shared with ${targetUsername}` }\n            }\n            throw e\n        }\n    } catch (error: any) {\n        console.error(\"Error sharing file:\", error)\n        return { success: false, message: error.message || \"Failed to share file\" }\n    }\n}\n\nexport async function getFileShares(filePath: string): Promise<string[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n\n        // Scan all user directories in shared root\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n            const shares: string[] = []\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            if (target === filePath) {\n                                shares.push(userDir.name)\n                            }\n                        } catch (e) {\n                            // Not a symlink or other error, ignore\n                        }\n                    }\n                } catch (e) {\n                    // Cannot read user dir, ignore\n                }\n            }\n            return shares\n        } catch (e) {\n            // Shared root likely doesn't exist yet\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting shares:\", error)\n        return []\n    }\n}\n\nexport async function getSharedFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const currentUser = os.userInfo().username\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared', currentUser)\n\n        await fs.mkdir(sharedRoot, { recursive: true })\n\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(sharedRoot, relativePath)\n\n        // Security check\n        if (!fullPath.startsWith(sharedRoot)) {\n            throw new Error(\"Access denied: Cannot traverse above shared root\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n\n                // For shared files, we might want to know who shared it (the link owner usually)\n                // but lstat on the link itself in the parent dir might be needed if we want link info.\n                // For now, presenting the target file info is fine.\n\n                // Determine type extension logic same as getFiles\n                if (!entry.isDirectory()) {\n                    if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                    else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                    else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n                }\n\n                const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                return {\n                    id: entryPath,\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}`\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error getting shared files:\", error)\n        return []\n    }\n}\n\nexport interface SharedFileItem extends FileItem {\n    sharedWith: { username: string, linkPath: string }[]\n}\n\nexport async function getOutgoingShares(): Promise<SharedFileItem[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const myHome = os.homedir()\n\n        // Map of sourcePath -> { sharedWith: [] }\n        const shareMap = new Map<string, { username: string, linkPath: string }[]>()\n\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            // Check if target is inside my home directory (or belongs to me)\n                            // Ideally check if I own the target file\n                            if (target.startsWith(myHome)) {\n                                if (!shareMap.has(target)) {\n                                    shareMap.set(target, [])\n                                }\n                                shareMap.get(target)?.push({ username: userDir.name, linkPath })\n                            }\n                        } catch (e) {\n                            // Not a symlink\n                        }\n                    }\n                } catch (e) {\n                    // Ignore\n                }\n            }\n\n            // Convert map to SharedFileItem list\n            const results: SharedFileItem[] = []\n            for (const [filePath, shares] of shareMap.entries()) {\n                try {\n                    const stats = await fs.stat(filePath)\n                    const name = path.basename(filePath)\n\n                    let type: FileItem['type'] = 'file'\n                    if (stats.isDirectory()) type = 'folder'\n                    else if (name.endsWith('.sh') || name.endsWith('.py')) type = 'script'\n                    else if (name.endsWith('.csv') || name.endsWith('.json')) type = 'data'\n                    else if (name.endsWith('.zip') || name.endsWith('.tar') || name.endsWith('.gz')) type = 'archive'\n\n                    const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                    results.push({\n                        id: filePath,\n                        name: name,\n                        type: type,\n                        path: filePath,\n                        owner: await getUsername(stats.uid),\n                        group: String(stats.gid),\n                        modifiedAt: stats.mtime.toISOString(),\n                        sizeBytes: stats.size,\n                        permissions: `0${perms}`,\n                        sharedWith: shares\n                    })\n                } catch (e) {\n                    // File might have been deleted but link exists\n                }\n            }\n            return results\n\n        } catch (e) {\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting outgoing shares:\", error)\n        return []\n    }\n}\n\nexport async function unshareFile(targetUsername: string, fileName: string): Promise<{ success: boolean, message: string }> {\n    try {\n        const sharedLinkPath = path.join(os.homedir(), 'hpc_shared', targetUsername, fileName)\n        await fs.unlink(sharedLinkPath)\n        return { success: true, message: `Unshared ${fileName} with ${targetUsername}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to unshare\" }\n    }\n}\n\nexport async function changePermissions(filePath: string, mode: string): Promise<{ success: boolean, message: string }> {\n    try {\n        await fs.chmod(filePath, mode)\n        return { success: true, message: `Updated permissions for ${path.basename(filePath)}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to change permissions\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IASsB,WAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 2668, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/app/actions.ts"],"sourcesContent":["'use server'\n\nimport fs from 'fs/promises'\nimport path from 'path'\nimport os from 'os'\nimport { FileItem } from '@/lib/mockData'\n\nconst BASE_PATH = os.homedir()\n\nexport async function getFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(BASE_PATH, relativePath)\n\n        // Security check: Ensure we don't escape home directory (basic check)\n        if (!fullPath.startsWith(BASE_PATH)) {\n            throw new Error(\"Access denied: Cannot traverse above home directory\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n                else if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n\n                // Permission string simulation (Node fs doesn't give \"rwx\" string directly easily across platforms, \n                // but we can approximate from mode)\n                const perms = (stats.mode & parseInt('777', 8)).toString(8) // simple octal\n\n                return {\n                    id: entryPath, // Use path as ID\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}` // Mocking the rwx string is complex, showing octal for now\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error reading directory:\", error)\n        return []\n    }\n}\n\nimport { exec } from 'child_process'\nimport util from 'util'\n\nconst execAsync = util.promisify(exec)\n\nconst usernameCache = new Map<number, string>()\n\nasync function getUsername(uid: number): Promise<string> {\n    if (usernameCache.has(uid)) return usernameCache.get(uid)!\n    try {\n        const { stdout } = await execAsync(`id -nu ${uid}`)\n        const name = stdout.trim()\n        usernameCache.set(uid, name)\n        return name\n    } catch (e) {\n        return String(uid)\n    }\n}\n\nasync function userExists(username: string): Promise<boolean> {\n    try {\n        await execAsync(`id -u ${username}`)\n        return true\n    } catch (error) {\n        return false\n    }\n}\n\nexport async function shareFile(sourcePath: string, targetUsername: string): Promise<{ success: boolean, message: string }> {\n    // Validate target user exists\n    if (!await userExists(targetUsername)) {\n        return { success: false, message: `User '${targetUsername}' does not exist on this system.` }\n    }\n\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const targetUserDir = path.join(sharedRoot, targetUsername)\n\n        // Ensure shared directories exist\n        await fs.mkdir(targetUserDir, { recursive: true })\n\n        const sourceName = path.basename(sourcePath)\n        const destPath = path.join(targetUserDir, sourceName)\n\n        try {\n            await fs.symlink(sourcePath, destPath)\n            return { success: true, message: `Successfully shared with ${targetUsername}` }\n        } catch (e: any) {\n            if (e.code === 'EEXIST') {\n                return { success: false, message: `Already shared with ${targetUsername}` }\n            }\n            throw e\n        }\n    } catch (error: any) {\n        console.error(\"Error sharing file:\", error)\n        return { success: false, message: error.message || \"Failed to share file\" }\n    }\n}\n\nexport async function getFileShares(filePath: string): Promise<string[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n\n        // Scan all user directories in shared root\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n            const shares: string[] = []\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            if (target === filePath) {\n                                shares.push(userDir.name)\n                            }\n                        } catch (e) {\n                            // Not a symlink or other error, ignore\n                        }\n                    }\n                } catch (e) {\n                    // Cannot read user dir, ignore\n                }\n            }\n            return shares\n        } catch (e) {\n            // Shared root likely doesn't exist yet\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting shares:\", error)\n        return []\n    }\n}\n\nexport async function getSharedFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const currentUser = os.userInfo().username\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared', currentUser)\n\n        await fs.mkdir(sharedRoot, { recursive: true })\n\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(sharedRoot, relativePath)\n\n        // Security check\n        if (!fullPath.startsWith(sharedRoot)) {\n            throw new Error(\"Access denied: Cannot traverse above shared root\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n\n                // For shared files, we might want to know who shared it (the link owner usually)\n                // but lstat on the link itself in the parent dir might be needed if we want link info.\n                // For now, presenting the target file info is fine.\n\n                // Determine type extension logic same as getFiles\n                if (!entry.isDirectory()) {\n                    if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                    else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                    else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n                }\n\n                const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                return {\n                    id: entryPath,\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}`\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error getting shared files:\", error)\n        return []\n    }\n}\n\nexport interface SharedFileItem extends FileItem {\n    sharedWith: { username: string, linkPath: string }[]\n}\n\nexport async function getOutgoingShares(): Promise<SharedFileItem[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const myHome = os.homedir()\n\n        // Map of sourcePath -> { sharedWith: [] }\n        const shareMap = new Map<string, { username: string, linkPath: string }[]>()\n\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            // Check if target is inside my home directory (or belongs to me)\n                            // Ideally check if I own the target file\n                            if (target.startsWith(myHome)) {\n                                if (!shareMap.has(target)) {\n                                    shareMap.set(target, [])\n                                }\n                                shareMap.get(target)?.push({ username: userDir.name, linkPath })\n                            }\n                        } catch (e) {\n                            // Not a symlink\n                        }\n                    }\n                } catch (e) {\n                    // Ignore\n                }\n            }\n\n            // Convert map to SharedFileItem list\n            const results: SharedFileItem[] = []\n            for (const [filePath, shares] of shareMap.entries()) {\n                try {\n                    const stats = await fs.stat(filePath)\n                    const name = path.basename(filePath)\n\n                    let type: FileItem['type'] = 'file'\n                    if (stats.isDirectory()) type = 'folder'\n                    else if (name.endsWith('.sh') || name.endsWith('.py')) type = 'script'\n                    else if (name.endsWith('.csv') || name.endsWith('.json')) type = 'data'\n                    else if (name.endsWith('.zip') || name.endsWith('.tar') || name.endsWith('.gz')) type = 'archive'\n\n                    const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                    results.push({\n                        id: filePath,\n                        name: name,\n                        type: type,\n                        path: filePath,\n                        owner: await getUsername(stats.uid),\n                        group: String(stats.gid),\n                        modifiedAt: stats.mtime.toISOString(),\n                        sizeBytes: stats.size,\n                        permissions: `0${perms}`,\n                        sharedWith: shares\n                    })\n                } catch (e) {\n                    // File might have been deleted but link exists\n                }\n            }\n            return results\n\n        } catch (e) {\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting outgoing shares:\", error)\n        return []\n    }\n}\n\nexport async function unshareFile(targetUsername: string, fileName: string): Promise<{ success: boolean, message: string }> {\n    try {\n        const sharedLinkPath = path.join(os.homedir(), 'hpc_shared', targetUsername, fileName)\n        await fs.unlink(sharedLinkPath)\n        return { success: true, message: `Unshared ${fileName} with ${targetUsername}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to unshare\" }\n    }\n}\n\nexport async function changePermissions(filePath: string, mode: string): Promise<{ success: boolean, message: string }> {\n    try {\n        await fs.chmod(filePath, mode)\n        return { success: true, message: `Updated permissions for ${path.basename(filePath)}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to change permissions\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAuFsB,YAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 2683, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/app/actions.ts"],"sourcesContent":["'use server'\n\nimport fs from 'fs/promises'\nimport path from 'path'\nimport os from 'os'\nimport { FileItem } from '@/lib/mockData'\n\nconst BASE_PATH = os.homedir()\n\nexport async function getFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(BASE_PATH, relativePath)\n\n        // Security check: Ensure we don't escape home directory (basic check)\n        if (!fullPath.startsWith(BASE_PATH)) {\n            throw new Error(\"Access denied: Cannot traverse above home directory\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n                else if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n\n                // Permission string simulation (Node fs doesn't give \"rwx\" string directly easily across platforms, \n                // but we can approximate from mode)\n                const perms = (stats.mode & parseInt('777', 8)).toString(8) // simple octal\n\n                return {\n                    id: entryPath, // Use path as ID\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}` // Mocking the rwx string is complex, showing octal for now\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error reading directory:\", error)\n        return []\n    }\n}\n\nimport { exec } from 'child_process'\nimport util from 'util'\n\nconst execAsync = util.promisify(exec)\n\nconst usernameCache = new Map<number, string>()\n\nasync function getUsername(uid: number): Promise<string> {\n    if (usernameCache.has(uid)) return usernameCache.get(uid)!\n    try {\n        const { stdout } = await execAsync(`id -nu ${uid}`)\n        const name = stdout.trim()\n        usernameCache.set(uid, name)\n        return name\n    } catch (e) {\n        return String(uid)\n    }\n}\n\nasync function userExists(username: string): Promise<boolean> {\n    try {\n        await execAsync(`id -u ${username}`)\n        return true\n    } catch (error) {\n        return false\n    }\n}\n\nexport async function shareFile(sourcePath: string, targetUsername: string): Promise<{ success: boolean, message: string }> {\n    // Validate target user exists\n    if (!await userExists(targetUsername)) {\n        return { success: false, message: `User '${targetUsername}' does not exist on this system.` }\n    }\n\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const targetUserDir = path.join(sharedRoot, targetUsername)\n\n        // Ensure shared directories exist\n        await fs.mkdir(targetUserDir, { recursive: true })\n\n        const sourceName = path.basename(sourcePath)\n        const destPath = path.join(targetUserDir, sourceName)\n\n        try {\n            await fs.symlink(sourcePath, destPath)\n            return { success: true, message: `Successfully shared with ${targetUsername}` }\n        } catch (e: any) {\n            if (e.code === 'EEXIST') {\n                return { success: false, message: `Already shared with ${targetUsername}` }\n            }\n            throw e\n        }\n    } catch (error: any) {\n        console.error(\"Error sharing file:\", error)\n        return { success: false, message: error.message || \"Failed to share file\" }\n    }\n}\n\nexport async function getFileShares(filePath: string): Promise<string[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n\n        // Scan all user directories in shared root\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n            const shares: string[] = []\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            if (target === filePath) {\n                                shares.push(userDir.name)\n                            }\n                        } catch (e) {\n                            // Not a symlink or other error, ignore\n                        }\n                    }\n                } catch (e) {\n                    // Cannot read user dir, ignore\n                }\n            }\n            return shares\n        } catch (e) {\n            // Shared root likely doesn't exist yet\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting shares:\", error)\n        return []\n    }\n}\n\nexport async function getSharedFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const currentUser = os.userInfo().username\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared', currentUser)\n\n        await fs.mkdir(sharedRoot, { recursive: true })\n\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(sharedRoot, relativePath)\n\n        // Security check\n        if (!fullPath.startsWith(sharedRoot)) {\n            throw new Error(\"Access denied: Cannot traverse above shared root\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n\n                // For shared files, we might want to know who shared it (the link owner usually)\n                // but lstat on the link itself in the parent dir might be needed if we want link info.\n                // For now, presenting the target file info is fine.\n\n                // Determine type extension logic same as getFiles\n                if (!entry.isDirectory()) {\n                    if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                    else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                    else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n                }\n\n                const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                return {\n                    id: entryPath,\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}`\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error getting shared files:\", error)\n        return []\n    }\n}\n\nexport interface SharedFileItem extends FileItem {\n    sharedWith: { username: string, linkPath: string }[]\n}\n\nexport async function getOutgoingShares(): Promise<SharedFileItem[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const myHome = os.homedir()\n\n        // Map of sourcePath -> { sharedWith: [] }\n        const shareMap = new Map<string, { username: string, linkPath: string }[]>()\n\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            // Check if target is inside my home directory (or belongs to me)\n                            // Ideally check if I own the target file\n                            if (target.startsWith(myHome)) {\n                                if (!shareMap.has(target)) {\n                                    shareMap.set(target, [])\n                                }\n                                shareMap.get(target)?.push({ username: userDir.name, linkPath })\n                            }\n                        } catch (e) {\n                            // Not a symlink\n                        }\n                    }\n                } catch (e) {\n                    // Ignore\n                }\n            }\n\n            // Convert map to SharedFileItem list\n            const results: SharedFileItem[] = []\n            for (const [filePath, shares] of shareMap.entries()) {\n                try {\n                    const stats = await fs.stat(filePath)\n                    const name = path.basename(filePath)\n\n                    let type: FileItem['type'] = 'file'\n                    if (stats.isDirectory()) type = 'folder'\n                    else if (name.endsWith('.sh') || name.endsWith('.py')) type = 'script'\n                    else if (name.endsWith('.csv') || name.endsWith('.json')) type = 'data'\n                    else if (name.endsWith('.zip') || name.endsWith('.tar') || name.endsWith('.gz')) type = 'archive'\n\n                    const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                    results.push({\n                        id: filePath,\n                        name: name,\n                        type: type,\n                        path: filePath,\n                        owner: await getUsername(stats.uid),\n                        group: String(stats.gid),\n                        modifiedAt: stats.mtime.toISOString(),\n                        sizeBytes: stats.size,\n                        permissions: `0${perms}`,\n                        sharedWith: shares\n                    })\n                } catch (e) {\n                    // File might have been deleted but link exists\n                }\n            }\n            return results\n\n        } catch (e) {\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting outgoing shares:\", error)\n        return []\n    }\n}\n\nexport async function unshareFile(targetUsername: string, fileName: string): Promise<{ success: boolean, message: string }> {\n    try {\n        const sharedLinkPath = path.join(os.homedir(), 'hpc_shared', targetUsername, fileName)\n        await fs.unlink(sharedLinkPath)\n        return { success: true, message: `Unshared ${fileName} with ${targetUsername}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to unshare\" }\n    }\n}\n\nexport async function changePermissions(filePath: string, mode: string): Promise<{ success: boolean, message: string }> {\n    try {\n        await fs.chmod(filePath, mode)\n        return { success: true, message: `Updated permissions for ${path.basename(filePath)}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to change permissions\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAgKsB,iBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 2698, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/app/actions.ts"],"sourcesContent":["'use server'\n\nimport fs from 'fs/promises'\nimport path from 'path'\nimport os from 'os'\nimport { FileItem } from '@/lib/mockData'\n\nconst BASE_PATH = os.homedir()\n\nexport async function getFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(BASE_PATH, relativePath)\n\n        // Security check: Ensure we don't escape home directory (basic check)\n        if (!fullPath.startsWith(BASE_PATH)) {\n            throw new Error(\"Access denied: Cannot traverse above home directory\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n                else if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n\n                // Permission string simulation (Node fs doesn't give \"rwx\" string directly easily across platforms, \n                // but we can approximate from mode)\n                const perms = (stats.mode & parseInt('777', 8)).toString(8) // simple octal\n\n                return {\n                    id: entryPath, // Use path as ID\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}` // Mocking the rwx string is complex, showing octal for now\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error reading directory:\", error)\n        return []\n    }\n}\n\nimport { exec } from 'child_process'\nimport util from 'util'\n\nconst execAsync = util.promisify(exec)\n\nconst usernameCache = new Map<number, string>()\n\nasync function getUsername(uid: number): Promise<string> {\n    if (usernameCache.has(uid)) return usernameCache.get(uid)!\n    try {\n        const { stdout } = await execAsync(`id -nu ${uid}`)\n        const name = stdout.trim()\n        usernameCache.set(uid, name)\n        return name\n    } catch (e) {\n        return String(uid)\n    }\n}\n\nasync function userExists(username: string): Promise<boolean> {\n    try {\n        await execAsync(`id -u ${username}`)\n        return true\n    } catch (error) {\n        return false\n    }\n}\n\nexport async function shareFile(sourcePath: string, targetUsername: string): Promise<{ success: boolean, message: string }> {\n    // Validate target user exists\n    if (!await userExists(targetUsername)) {\n        return { success: false, message: `User '${targetUsername}' does not exist on this system.` }\n    }\n\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const targetUserDir = path.join(sharedRoot, targetUsername)\n\n        // Ensure shared directories exist\n        await fs.mkdir(targetUserDir, { recursive: true })\n\n        const sourceName = path.basename(sourcePath)\n        const destPath = path.join(targetUserDir, sourceName)\n\n        try {\n            await fs.symlink(sourcePath, destPath)\n            return { success: true, message: `Successfully shared with ${targetUsername}` }\n        } catch (e: any) {\n            if (e.code === 'EEXIST') {\n                return { success: false, message: `Already shared with ${targetUsername}` }\n            }\n            throw e\n        }\n    } catch (error: any) {\n        console.error(\"Error sharing file:\", error)\n        return { success: false, message: error.message || \"Failed to share file\" }\n    }\n}\n\nexport async function getFileShares(filePath: string): Promise<string[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n\n        // Scan all user directories in shared root\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n            const shares: string[] = []\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            if (target === filePath) {\n                                shares.push(userDir.name)\n                            }\n                        } catch (e) {\n                            // Not a symlink or other error, ignore\n                        }\n                    }\n                } catch (e) {\n                    // Cannot read user dir, ignore\n                }\n            }\n            return shares\n        } catch (e) {\n            // Shared root likely doesn't exist yet\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting shares:\", error)\n        return []\n    }\n}\n\nexport async function getSharedFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const currentUser = os.userInfo().username\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared', currentUser)\n\n        await fs.mkdir(sharedRoot, { recursive: true })\n\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(sharedRoot, relativePath)\n\n        // Security check\n        if (!fullPath.startsWith(sharedRoot)) {\n            throw new Error(\"Access denied: Cannot traverse above shared root\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n\n                // For shared files, we might want to know who shared it (the link owner usually)\n                // but lstat on the link itself in the parent dir might be needed if we want link info.\n                // For now, presenting the target file info is fine.\n\n                // Determine type extension logic same as getFiles\n                if (!entry.isDirectory()) {\n                    if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                    else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                    else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n                }\n\n                const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                return {\n                    id: entryPath,\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}`\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error getting shared files:\", error)\n        return []\n    }\n}\n\nexport interface SharedFileItem extends FileItem {\n    sharedWith: { username: string, linkPath: string }[]\n}\n\nexport async function getOutgoingShares(): Promise<SharedFileItem[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const myHome = os.homedir()\n\n        // Map of sourcePath -> { sharedWith: [] }\n        const shareMap = new Map<string, { username: string, linkPath: string }[]>()\n\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            // Check if target is inside my home directory (or belongs to me)\n                            // Ideally check if I own the target file\n                            if (target.startsWith(myHome)) {\n                                if (!shareMap.has(target)) {\n                                    shareMap.set(target, [])\n                                }\n                                shareMap.get(target)?.push({ username: userDir.name, linkPath })\n                            }\n                        } catch (e) {\n                            // Not a symlink\n                        }\n                    }\n                } catch (e) {\n                    // Ignore\n                }\n            }\n\n            // Convert map to SharedFileItem list\n            const results: SharedFileItem[] = []\n            for (const [filePath, shares] of shareMap.entries()) {\n                try {\n                    const stats = await fs.stat(filePath)\n                    const name = path.basename(filePath)\n\n                    let type: FileItem['type'] = 'file'\n                    if (stats.isDirectory()) type = 'folder'\n                    else if (name.endsWith('.sh') || name.endsWith('.py')) type = 'script'\n                    else if (name.endsWith('.csv') || name.endsWith('.json')) type = 'data'\n                    else if (name.endsWith('.zip') || name.endsWith('.tar') || name.endsWith('.gz')) type = 'archive'\n\n                    const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                    results.push({\n                        id: filePath,\n                        name: name,\n                        type: type,\n                        path: filePath,\n                        owner: await getUsername(stats.uid),\n                        group: String(stats.gid),\n                        modifiedAt: stats.mtime.toISOString(),\n                        sizeBytes: stats.size,\n                        permissions: `0${perms}`,\n                        sharedWith: shares\n                    })\n                } catch (e) {\n                    // File might have been deleted but link exists\n                }\n            }\n            return results\n\n        } catch (e) {\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting outgoing shares:\", error)\n        return []\n    }\n}\n\nexport async function unshareFile(targetUsername: string, fileName: string): Promise<{ success: boolean, message: string }> {\n    try {\n        const sharedLinkPath = path.join(os.homedir(), 'hpc_shared', targetUsername, fileName)\n        await fs.unlink(sharedLinkPath)\n        return { success: true, message: `Unshared ${fileName} with ${targetUsername}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to unshare\" }\n    }\n}\n\nexport async function changePermissions(filePath: string, mode: string): Promise<{ success: boolean, message: string }> {\n    try {\n        await fs.chmod(filePath, mode)\n        return { success: true, message: `Updated permissions for ${path.basename(filePath)}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to change permissions\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAiOsB,oBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 2713, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/app/actions.ts"],"sourcesContent":["'use server'\n\nimport fs from 'fs/promises'\nimport path from 'path'\nimport os from 'os'\nimport { FileItem } from '@/lib/mockData'\n\nconst BASE_PATH = os.homedir()\n\nexport async function getFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(BASE_PATH, relativePath)\n\n        // Security check: Ensure we don't escape home directory (basic check)\n        if (!fullPath.startsWith(BASE_PATH)) {\n            throw new Error(\"Access denied: Cannot traverse above home directory\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n                else if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n\n                // Permission string simulation (Node fs doesn't give \"rwx\" string directly easily across platforms, \n                // but we can approximate from mode)\n                const perms = (stats.mode & parseInt('777', 8)).toString(8) // simple octal\n\n                return {\n                    id: entryPath, // Use path as ID\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}` // Mocking the rwx string is complex, showing octal for now\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error reading directory:\", error)\n        return []\n    }\n}\n\nimport { exec } from 'child_process'\nimport util from 'util'\n\nconst execAsync = util.promisify(exec)\n\nconst usernameCache = new Map<number, string>()\n\nasync function getUsername(uid: number): Promise<string> {\n    if (usernameCache.has(uid)) return usernameCache.get(uid)!\n    try {\n        const { stdout } = await execAsync(`id -nu ${uid}`)\n        const name = stdout.trim()\n        usernameCache.set(uid, name)\n        return name\n    } catch (e) {\n        return String(uid)\n    }\n}\n\nasync function userExists(username: string): Promise<boolean> {\n    try {\n        await execAsync(`id -u ${username}`)\n        return true\n    } catch (error) {\n        return false\n    }\n}\n\nexport async function shareFile(sourcePath: string, targetUsername: string): Promise<{ success: boolean, message: string }> {\n    // Validate target user exists\n    if (!await userExists(targetUsername)) {\n        return { success: false, message: `User '${targetUsername}' does not exist on this system.` }\n    }\n\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const targetUserDir = path.join(sharedRoot, targetUsername)\n\n        // Ensure shared directories exist\n        await fs.mkdir(targetUserDir, { recursive: true })\n\n        const sourceName = path.basename(sourcePath)\n        const destPath = path.join(targetUserDir, sourceName)\n\n        try {\n            await fs.symlink(sourcePath, destPath)\n            return { success: true, message: `Successfully shared with ${targetUsername}` }\n        } catch (e: any) {\n            if (e.code === 'EEXIST') {\n                return { success: false, message: `Already shared with ${targetUsername}` }\n            }\n            throw e\n        }\n    } catch (error: any) {\n        console.error(\"Error sharing file:\", error)\n        return { success: false, message: error.message || \"Failed to share file\" }\n    }\n}\n\nexport async function getFileShares(filePath: string): Promise<string[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n\n        // Scan all user directories in shared root\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n            const shares: string[] = []\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            if (target === filePath) {\n                                shares.push(userDir.name)\n                            }\n                        } catch (e) {\n                            // Not a symlink or other error, ignore\n                        }\n                    }\n                } catch (e) {\n                    // Cannot read user dir, ignore\n                }\n            }\n            return shares\n        } catch (e) {\n            // Shared root likely doesn't exist yet\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting shares:\", error)\n        return []\n    }\n}\n\nexport async function getSharedFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const currentUser = os.userInfo().username\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared', currentUser)\n\n        await fs.mkdir(sharedRoot, { recursive: true })\n\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(sharedRoot, relativePath)\n\n        // Security check\n        if (!fullPath.startsWith(sharedRoot)) {\n            throw new Error(\"Access denied: Cannot traverse above shared root\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n\n                // For shared files, we might want to know who shared it (the link owner usually)\n                // but lstat on the link itself in the parent dir might be needed if we want link info.\n                // For now, presenting the target file info is fine.\n\n                // Determine type extension logic same as getFiles\n                if (!entry.isDirectory()) {\n                    if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                    else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                    else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n                }\n\n                const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                return {\n                    id: entryPath,\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}`\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error getting shared files:\", error)\n        return []\n    }\n}\n\nexport interface SharedFileItem extends FileItem {\n    sharedWith: { username: string, linkPath: string }[]\n}\n\nexport async function getOutgoingShares(): Promise<SharedFileItem[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const myHome = os.homedir()\n\n        // Map of sourcePath -> { sharedWith: [] }\n        const shareMap = new Map<string, { username: string, linkPath: string }[]>()\n\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            // Check if target is inside my home directory (or belongs to me)\n                            // Ideally check if I own the target file\n                            if (target.startsWith(myHome)) {\n                                if (!shareMap.has(target)) {\n                                    shareMap.set(target, [])\n                                }\n                                shareMap.get(target)?.push({ username: userDir.name, linkPath })\n                            }\n                        } catch (e) {\n                            // Not a symlink\n                        }\n                    }\n                } catch (e) {\n                    // Ignore\n                }\n            }\n\n            // Convert map to SharedFileItem list\n            const results: SharedFileItem[] = []\n            for (const [filePath, shares] of shareMap.entries()) {\n                try {\n                    const stats = await fs.stat(filePath)\n                    const name = path.basename(filePath)\n\n                    let type: FileItem['type'] = 'file'\n                    if (stats.isDirectory()) type = 'folder'\n                    else if (name.endsWith('.sh') || name.endsWith('.py')) type = 'script'\n                    else if (name.endsWith('.csv') || name.endsWith('.json')) type = 'data'\n                    else if (name.endsWith('.zip') || name.endsWith('.tar') || name.endsWith('.gz')) type = 'archive'\n\n                    const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                    results.push({\n                        id: filePath,\n                        name: name,\n                        type: type,\n                        path: filePath,\n                        owner: await getUsername(stats.uid),\n                        group: String(stats.gid),\n                        modifiedAt: stats.mtime.toISOString(),\n                        sizeBytes: stats.size,\n                        permissions: `0${perms}`,\n                        sharedWith: shares\n                    })\n                } catch (e) {\n                    // File might have been deleted but link exists\n                }\n            }\n            return results\n\n        } catch (e) {\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting outgoing shares:\", error)\n        return []\n    }\n}\n\nexport async function unshareFile(targetUsername: string, fileName: string): Promise<{ success: boolean, message: string }> {\n    try {\n        const sharedLinkPath = path.join(os.homedir(), 'hpc_shared', targetUsername, fileName)\n        await fs.unlink(sharedLinkPath)\n        return { success: true, message: `Unshared ${fileName} with ${targetUsername}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to unshare\" }\n    }\n}\n\nexport async function changePermissions(filePath: string, mode: string): Promise<{ success: boolean, message: string }> {\n    try {\n        await fs.chmod(filePath, mode)\n        return { success: true, message: `Updated permissions for ${path.basename(filePath)}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to change permissions\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAkTsB,cAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 2728, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/app/actions.ts"],"sourcesContent":["'use server'\n\nimport fs from 'fs/promises'\nimport path from 'path'\nimport os from 'os'\nimport { FileItem } from '@/lib/mockData'\n\nconst BASE_PATH = os.homedir()\n\nexport async function getFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(BASE_PATH, relativePath)\n\n        // Security check: Ensure we don't escape home directory (basic check)\n        if (!fullPath.startsWith(BASE_PATH)) {\n            throw new Error(\"Access denied: Cannot traverse above home directory\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n                else if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n\n                // Permission string simulation (Node fs doesn't give \"rwx\" string directly easily across platforms, \n                // but we can approximate from mode)\n                const perms = (stats.mode & parseInt('777', 8)).toString(8) // simple octal\n\n                return {\n                    id: entryPath, // Use path as ID\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}` // Mocking the rwx string is complex, showing octal for now\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error reading directory:\", error)\n        return []\n    }\n}\n\nimport { exec } from 'child_process'\nimport util from 'util'\n\nconst execAsync = util.promisify(exec)\n\nconst usernameCache = new Map<number, string>()\n\nasync function getUsername(uid: number): Promise<string> {\n    if (usernameCache.has(uid)) return usernameCache.get(uid)!\n    try {\n        const { stdout } = await execAsync(`id -nu ${uid}`)\n        const name = stdout.trim()\n        usernameCache.set(uid, name)\n        return name\n    } catch (e) {\n        return String(uid)\n    }\n}\n\nasync function userExists(username: string): Promise<boolean> {\n    try {\n        await execAsync(`id -u ${username}`)\n        return true\n    } catch (error) {\n        return false\n    }\n}\n\nexport async function shareFile(sourcePath: string, targetUsername: string): Promise<{ success: boolean, message: string }> {\n    // Validate target user exists\n    if (!await userExists(targetUsername)) {\n        return { success: false, message: `User '${targetUsername}' does not exist on this system.` }\n    }\n\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const targetUserDir = path.join(sharedRoot, targetUsername)\n\n        // Ensure shared directories exist\n        await fs.mkdir(targetUserDir, { recursive: true })\n\n        const sourceName = path.basename(sourcePath)\n        const destPath = path.join(targetUserDir, sourceName)\n\n        try {\n            await fs.symlink(sourcePath, destPath)\n            return { success: true, message: `Successfully shared with ${targetUsername}` }\n        } catch (e: any) {\n            if (e.code === 'EEXIST') {\n                return { success: false, message: `Already shared with ${targetUsername}` }\n            }\n            throw e\n        }\n    } catch (error: any) {\n        console.error(\"Error sharing file:\", error)\n        return { success: false, message: error.message || \"Failed to share file\" }\n    }\n}\n\nexport async function getFileShares(filePath: string): Promise<string[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n\n        // Scan all user directories in shared root\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n            const shares: string[] = []\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            if (target === filePath) {\n                                shares.push(userDir.name)\n                            }\n                        } catch (e) {\n                            // Not a symlink or other error, ignore\n                        }\n                    }\n                } catch (e) {\n                    // Cannot read user dir, ignore\n                }\n            }\n            return shares\n        } catch (e) {\n            // Shared root likely doesn't exist yet\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting shares:\", error)\n        return []\n    }\n}\n\nexport async function getSharedFiles(currentPathSegments: string[]): Promise<FileItem[]> {\n    try {\n        const currentUser = os.userInfo().username\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared', currentUser)\n\n        await fs.mkdir(sharedRoot, { recursive: true })\n\n        const relativePath = path.join(...currentPathSegments)\n        const fullPath = path.join(sharedRoot, relativePath)\n\n        // Security check\n        if (!fullPath.startsWith(sharedRoot)) {\n            throw new Error(\"Access denied: Cannot traverse above shared root\")\n        }\n\n        const entries = await fs.readdir(fullPath, { withFileTypes: true })\n\n        const files = await Promise.all(entries.map(async (entry) => {\n            try {\n                const entryPath = path.join(fullPath, entry.name)\n                const stats = await fs.stat(entryPath)\n\n                let type: FileItem['type'] = 'file'\n                if (entry.isDirectory()) type = 'folder'\n\n                // For shared files, we might want to know who shared it (the link owner usually)\n                // but lstat on the link itself in the parent dir might be needed if we want link info.\n                // For now, presenting the target file info is fine.\n\n                // Determine type extension logic same as getFiles\n                if (!entry.isDirectory()) {\n                    if (entry.name.endsWith('.sh') || entry.name.endsWith('.py')) type = 'script'\n                    else if (entry.name.endsWith('.csv') || entry.name.endsWith('.json')) type = 'data'\n                    else if (entry.name.endsWith('.zip') || entry.name.endsWith('.tar') || entry.name.endsWith('.gz')) type = 'archive'\n                }\n\n                const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                return {\n                    id: entryPath,\n                    name: entry.name,\n                    type: type,\n                    path: entryPath,\n                    owner: await getUsername(stats.uid),\n                    group: String(stats.gid),\n                    modifiedAt: stats.mtime.toISOString(),\n                    sizeBytes: stats.size,\n                    permissions: `0${perms}`\n                }\n            } catch (e) {\n                return null\n            }\n        }))\n\n        return files.filter((f): f is FileItem => f !== null)\n    } catch (error) {\n        console.error(\"Error getting shared files:\", error)\n        return []\n    }\n}\n\nexport interface SharedFileItem extends FileItem {\n    sharedWith: { username: string, linkPath: string }[]\n}\n\nexport async function getOutgoingShares(): Promise<SharedFileItem[]> {\n    try {\n        const sharedRoot = path.join(os.homedir(), 'hpc_shared')\n        const myHome = os.homedir()\n\n        // Map of sourcePath -> { sharedWith: [] }\n        const shareMap = new Map<string, { username: string, linkPath: string }[]>()\n\n        try {\n            const userDirs = await fs.readdir(sharedRoot, { withFileTypes: true })\n\n            for (const userDir of userDirs) {\n                if (!userDir.isDirectory()) continue\n\n                const userPath = path.join(sharedRoot, userDir.name)\n                try {\n                    const links = await fs.readdir(userPath)\n\n                    for (const link of links) {\n                        const linkPath = path.join(userPath, link)\n                        try {\n                            const target = await fs.readlink(linkPath)\n                            // Check if target is inside my home directory (or belongs to me)\n                            // Ideally check if I own the target file\n                            if (target.startsWith(myHome)) {\n                                if (!shareMap.has(target)) {\n                                    shareMap.set(target, [])\n                                }\n                                shareMap.get(target)?.push({ username: userDir.name, linkPath })\n                            }\n                        } catch (e) {\n                            // Not a symlink\n                        }\n                    }\n                } catch (e) {\n                    // Ignore\n                }\n            }\n\n            // Convert map to SharedFileItem list\n            const results: SharedFileItem[] = []\n            for (const [filePath, shares] of shareMap.entries()) {\n                try {\n                    const stats = await fs.stat(filePath)\n                    const name = path.basename(filePath)\n\n                    let type: FileItem['type'] = 'file'\n                    if (stats.isDirectory()) type = 'folder'\n                    else if (name.endsWith('.sh') || name.endsWith('.py')) type = 'script'\n                    else if (name.endsWith('.csv') || name.endsWith('.json')) type = 'data'\n                    else if (name.endsWith('.zip') || name.endsWith('.tar') || name.endsWith('.gz')) type = 'archive'\n\n                    const perms = (stats.mode & parseInt('777', 8)).toString(8)\n\n                    results.push({\n                        id: filePath,\n                        name: name,\n                        type: type,\n                        path: filePath,\n                        owner: await getUsername(stats.uid),\n                        group: String(stats.gid),\n                        modifiedAt: stats.mtime.toISOString(),\n                        sizeBytes: stats.size,\n                        permissions: `0${perms}`,\n                        sharedWith: shares\n                    })\n                } catch (e) {\n                    // File might have been deleted but link exists\n                }\n            }\n            return results\n\n        } catch (e) {\n            return []\n        }\n    } catch (error) {\n        console.error(\"Error getting outgoing shares:\", error)\n        return []\n    }\n}\n\nexport async function unshareFile(targetUsername: string, fileName: string): Promise<{ success: boolean, message: string }> {\n    try {\n        const sharedLinkPath = path.join(os.homedir(), 'hpc_shared', targetUsername, fileName)\n        await fs.unlink(sharedLinkPath)\n        return { success: true, message: `Unshared ${fileName} with ${targetUsername}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to unshare\" }\n    }\n}\n\nexport async function changePermissions(filePath: string, mode: string): Promise<{ success: boolean, message: string }> {\n    try {\n        await fs.chmod(filePath, mode)\n        return { success: true, message: `Updated permissions for ${path.basename(filePath)}` }\n    } catch (error: any) {\n        return { success: false, message: error.message || \"Failed to change permissions\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IA4TsB,oBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 2743, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 2821, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 2873, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/breadcrumb.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { ChevronRight, MoreHorizontal } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Breadcrumb({ ...props }: React.ComponentProps<'nav'>) {\n  return <nav aria-label=\"breadcrumb\" data-slot=\"breadcrumb\" {...props} />\n}\n\nfunction BreadcrumbList({ className, ...props }: React.ComponentProps<'ol'>) {\n  return (\n    <ol\n      data-slot=\"breadcrumb-list\"\n      className={cn(\n        'text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbItem({ className, ...props }: React.ComponentProps<'li'>) {\n  return (\n    <li\n      data-slot=\"breadcrumb-item\"\n      className={cn('inline-flex items-center gap-1.5', className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbLink({\n  asChild,\n  className,\n  ...props\n}: React.ComponentProps<'a'> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : 'a'\n\n  return (\n    <Comp\n      data-slot=\"breadcrumb-link\"\n      className={cn('hover:text-foreground transition-colors', className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbPage({ className, ...props }: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"breadcrumb-page\"\n      role=\"link\"\n      aria-disabled=\"true\"\n      aria-current=\"page\"\n      className={cn('text-foreground font-normal', className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<'li'>) {\n  return (\n    <li\n      data-slot=\"breadcrumb-separator\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn('[&>svg]:size-3.5', className)}\n      {...props}\n    >\n      {children ?? <ChevronRight />}\n    </li>\n  )\n}\n\nfunction BreadcrumbEllipsis({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"breadcrumb-ellipsis\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn('flex size-9 items-center justify-center', className)}\n      {...props}\n    >\n      <MoreHorizontal className=\"size-4\" />\n      <span className=\"sr-only\">More</span>\n    </span>\n  )\n}\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACA;AACA;AAAA;AAEA;;;;;AAEA,SAAS,WAAW,EAAE,GAAG,OAAoC;IAC3D,qBAAO,6LAAC;QAAI,cAAW;QAAa,aAAU;QAAc,GAAG,KAAK;;;;;;AACtE;KAFS;AAIT,SAAS,eAAe,EAAE,SAAS,EAAE,GAAG,OAAmC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4FACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EAAE,SAAS,EAAE,GAAG,OAAmC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,oCAAoC;QACjD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,eAAe,EACtB,OAAO,EACP,SAAS,EACT,GAAG,OAGJ;IACC,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MAhBS;AAkBT,SAAS,eAAe,EAAE,SAAS,EAAE,GAAG,OAAqC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,MAAK;QACL,iBAAc;QACd,gBAAa;QACb,WAAW,IAAA,qHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,oBAAoB,EAC3B,QAAQ,EACR,SAAS,EACT,GAAG,OACwB;IAC3B,qBACE,6LAAC;QACC,aAAU;QACV,MAAK;QACL,eAAY;QACZ,WAAW,IAAA,qHAAE,EAAC,oBAAoB;QACjC,GAAG,KAAK;kBAER,0BAAY,6LAAC,yOAAY;;;;;;;;;;AAGhC;MAhBS;AAkBT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OAC0B;IAC7B,qBACE,6LAAC;QACC,aAAU;QACV,MAAK;QACL,eAAY;QACZ,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;0BAET,6LAAC,qOAAc;gBAAC,WAAU;;;;;;0BAC1B,6LAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC;MAhBS"}},
    {"offset": {"line": 3028, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 3285, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahulsharma/Downloads/file-operations-app/components/FileExplorer.tsx"],"sourcesContent":["\"use client\"\nimport { useState, useEffect } from \"react\"\nimport { Sidebar } from \"./Sidebar\"\nimport { FileList } from \"./FileList\"\nimport { DetailsDrawer } from \"./DetailsDrawer\"\nimport { ShareDialog } from \"./ShareDialog\"\nimport { getFiles, shareFile, getSharedFiles, getOutgoingShares, unshareFile, changePermissions, type SharedFileItem } from \"@/app/actions\"\nimport { FileItem, mockFiles } from \"@/lib/mockData\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { X, Lock, Unlock } from \"lucide-react\"\nimport { toast } from \"sonner\"\nimport {\n    Breadcrumb,\n    BreadcrumbItem,\n    BreadcrumbLink,\n    BreadcrumbList,\n    BreadcrumbSeparator,\n    BreadcrumbPage\n} from \"@/components/ui/breadcrumb\"\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from \"@/components/ui/select\"\nimport { Search, LayoutGrid, List as ListIcon, Info, ChevronUp } from \"lucide-react\"\n\nexport function FileExplorer() {\n    const [currentPath, setCurrentPath] = useState<string[]>([])\n    const [files, setFiles] = useState<FileItem[]>([])\n    const [selectedFile, setSelectedFile] = useState<FileItem | null>(null)\n    const [isDetailsOpen, setIsDetailsOpen] = useState(false)\n    const [isShareOpen, setIsShareOpen] = useState(false)\n    const [fileToShare, setFileToShare] = useState<FileItem | null>(null)\n    const [viewMode, setViewMode] = useState<'list' | 'grid'>('list')\n    const [sortConfig, setSortConfig] = useState<{ column: string, direction: 'asc' | 'desc' }>({\n        column: 'name',\n        direction: 'asc'\n    })\n\n    const [textSearch, setTextSearch] = useState(\"\")\n    const [ownerFilter, setOwnerFilter] = useState(\"all\")\n    const [modifiedFilter, setModifiedFilter] = useState(\"newest\")\n    const [typeFilter, setTypeFilter] = useState(\"all\")\n    const [currentCategory, setCurrentCategory] = useState(\"home\")\n    const [outgoingShares, setOutgoingShares] = useState<SharedFileItem[]>([])\n    const [sharedTab, setSharedTab] = useState(\"incoming\")\n\n    // Reset path when category changes\n    useEffect(() => {\n        setCurrentPath([])\n    }, [currentCategory])\n\n    // Get unique owners\n    const owners = Array.from(new Set(files.map(f => f.owner)))\n\n    // Initial load and path navigation\n    useEffect(() => {\n        const loadFiles = async () => {\n            let fetchedFiles: FileItem[] = []\n            if (currentCategory === 'shared') {\n                if (sharedTab === 'incoming') {\n                    fetchedFiles = await getSharedFiles(currentPath)\n                    setFiles(fetchedFiles)\n                } else {\n                    const outgoing = await getOutgoingShares()\n                    setOutgoingShares(outgoing)\n                    setFiles(outgoing) // For reusing the file list view initially, but we might likely need a custom view\n                }\n            } else {\n                fetchedFiles = await getFiles(currentPath)\n                setFiles(fetchedFiles)\n            }\n        }\n        loadFiles()\n    }, [currentPath, currentCategory, sharedTab])\n\n\n    // Filter files based on search and current logic (mocked)\n    // In a real app this would query the backend based on path\n    // Filter files logic\n    const filteredFiles = files.filter(file => {\n        const matchesSearch = file.name.toLowerCase().includes(textSearch.toLowerCase())\n        const matchesOwner = ownerFilter === \"all\" || file.owner === ownerFilter\n        const matchesType = typeFilter === \"all\" ||\n            (typeFilter === 'folder' && file.type === 'folder') ||\n            (typeFilter === 'script' && file.type === 'script') ||\n            (typeFilter === 'data' && file.type === 'data')\n\n        // Category filter simulation\n        if (currentCategory === 'trash') {\n            // In a real app, we'd check if file.deletedAt is set.\n            // For now, let's just show no files to simulate 'empty trash' or maybe filtered out ones\n            // But to show \"Refinement\" I'll just say:\n            return false // Empty trash for now, or we could add a 'isDeleted' flag to mockData.\n        }\n\n        // Shared projects simulation\n        if (currentCategory === 'shared') {\n            return matchesSearch && matchesOwner && matchesType && file.group === 'researchers'\n        }\n\n        // Recent simulation\n        if (currentCategory === 'recent') {\n            // Show all but maybe sorted by time.\n            return matchesSearch && matchesOwner && matchesType\n        }\n\n        return matchesSearch && matchesOwner && matchesType\n    }).sort((a, b) => {\n        // Special modified filter handling (overrides column sort for simplicity if strictly enforcing the dropdown logic)\n        // However, usually detailed table sort and a \"view\" dropdown might conflict.\n        // The requirement says \"Modified dropdown (Newest, Oldest)\".\n        // Let's make the modified dropdown set the primary sort to 'modifiedAt'.\n\n        let aValue = a[sortConfig.column as keyof FileItem]\n        let bValue = b[sortConfig.column as keyof FileItem]\n\n        if (modifiedFilter !== 'custom') {\n            // If we are strictly using the dropdown, we might ignore the table header sort or sync them.\n            // For this implementation, I will let the specific modified dropdown take precedence for 'modifiedAt' sorting\n            // but if the user clicks a header, we might want to respect that.\n            // A cleaner approach for \"Newest/Oldest\" dropdown is:\n            // It effectively sets column='modifiedAt' and direction='desc'/'asc'.\n        }\n\n        if (aValue === undefined || bValue === undefined) return 0\n\n        if (aValue < bValue) return sortConfig.direction === 'asc' ? -1 : 1\n        if (aValue > bValue) return sortConfig.direction === 'asc' ? 1 : -1\n        return 0\n    })\n\n    // Update sort when Modified dropdown changes\n    const handleModifiedFilterChange = (value: string) => {\n        setModifiedFilter(value)\n        if (value === 'newest') {\n            setSortConfig({ column: 'modifiedAt', direction: 'desc' })\n        } else if (value === 'oldest') {\n            setSortConfig({ column: 'modifiedAt', direction: 'asc' })\n        }\n    }\n\n    const handleFileSelect = (file: FileItem) => {\n        setSelectedFile(file)\n        setIsDetailsOpen(true)\n    }\n\n    const handleFolderNavigate = (folderId: string) => {\n        const folder = files.find(f => f.id === folderId)\n        if (folder) {\n            setCurrentPath([...currentPath, folder.name])\n        }\n    }\n\n    const handleNewItem = (type: 'folder' | 'file' | 'script' | 'upload') => {\n        const newItem: FileItem = {\n            id: Math.random().toString(36).substr(2, 9),\n            name: type === 'folder' ? 'New Folder' : `new_${type}.${type === 'script' ? 'sh' : 'txt'}`,\n            type: type === 'upload' ? 'file' : type as any,\n            path: `/home/rahul/new_${type}`,\n            owner: 'rahul',\n            group: 'researchers',\n            modifiedAt: new Date().toISOString(),\n            sizeBytes: 0,\n            permissions: type === 'folder' ? 'drwxr-xr-x' : '-rw-r--r--'\n        }\n        setFiles([newItem, ...files])\n        toast(`Created new ${type}`)\n    }\n\n    const handleDelete = (fileId: string) => {\n        setFiles(files.filter(f => f.id !== fileId))\n        toast(\"File deleted\")\n        if (selectedFile?.id === fileId) {\n            setSelectedFile(null)\n            setIsDetailsOpen(false)\n        }\n    }\n\n    const handleRename = (fileId: string) => {\n        const file = files.find(f => f.id === fileId)\n        if (!file) return\n\n        const newName = window.prompt(\"Enter new name:\", file.name)\n        if (newName && newName !== file.name) {\n            setFiles(files.map(f => f.id === fileId ? { ...f, name: newName } : f))\n            toast(\"Renamed file\")\n        }\n    }\n\n    const handleCopyPath = (file: FileItem) => {\n        navigator.clipboard.writeText(file.path)\n        toast(\"Path copied to clipboard\")\n    }\n\n    const handleDownload = (file: FileItem) => {\n        toast(`Downloading ${file.name}...`)\n    }\n\n    const handleShare = (file: FileItem) => {\n        setFileToShare(file)\n        setIsShareOpen(true)\n    }\n\n    const handleShareConfirm = async (username: string) => {\n        if (!fileToShare) return\n\n        await new Promise<void>((resolve, reject) => {\n            toast.promise(shareFile(fileToShare.path, username), {\n                loading: 'Creating symlink...',\n                success: (data) => {\n                    resolve()\n                    if (data.success) return data.message\n                    throw new Error(data.message)\n                },\n                error: (err) => {\n                    reject(err)\n                    return err.message\n                }\n            })\n        })\n    }\n\n    const handleUnshare = async (username: string, fileName: string) => {\n        const confirm = window.confirm(`Stop sharing ${fileName} with ${username}?`)\n        if (!confirm) return\n\n        const result = await unshareFile(username, fileName)\n        if (result.success) {\n            toast.success(result.message)\n            // Refresh list\n            const outgoing = await getOutgoingShares()\n            setOutgoingShares(outgoing)\n            setFiles(outgoing)\n        } else {\n            toast.error(result.message)\n        }\n    }\n\n    const handlePermissionChange = async (file: FileItem, mode: string) => {\n        const result = await changePermissions(file.path, mode)\n        if (result.success) {\n            toast.success(result.message)\n            // Refresh\n            const outgoing = await getOutgoingShares()\n            setOutgoingShares(outgoing)\n            setFiles(outgoing)\n        } else {\n            toast.error(result.message)\n        }\n    }\n\n    const handleSort = (column: string) => {\n        setSortConfig(current => ({\n            column,\n            direction: current.column === column && current.direction === 'asc' ? 'desc' : 'asc'\n        }))\n    }\n\n\n    return (\n        <div className=\"flex h-screen bg-background overflow-hidden\">\n            <Sidebar\n                className=\"hidden md:block w-64 flex-shrink-0\"\n                currentCategory={currentCategory}\n                onCategoryChange={setCurrentCategory}\n                onNewItem={handleNewItem}\n            />\n\n            <div className=\"flex-1 flex flex-col min-w-0 h-full\">\n                {/* Header */}\n                <header className=\"border-b bg-card p-4 space-y-4\">\n                    <div className=\"flex items-center justify-between gap-4\">\n                        <h1 className=\"text-xl font-semibold truncate capitalize\">\n                            {currentCategory === 'home' ? (currentPath.length > 0 ? currentPath[currentPath.length - 1] : \"Home\") : currentCategory}\n                        </h1>\n\n                        <div className=\"flex items-center gap-2\">\n                            <div className=\"relative w-64\">\n                                <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                                <Input\n                                    placeholder=\"Search files or folders...\"\n                                    className=\"pl-8\"\n                                    value={textSearch}\n                                    onChange={(e) => setTextSearch(e.target.value)}\n                                />\n                            </div>\n\n                            <Button\n                                variant=\"ghost\"\n                                size=\"icon\"\n                                onClick={() => setIsDetailsOpen(!isDetailsOpen)}\n                                className={isDetailsOpen ? \"bg-muted\" : \"\"}\n                            >\n                                <Info className=\"h-5 w-5\" />\n                            </Button>\n                        </div>\n                    </div>\n\n                    <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4 flex-1 overflow-x-auto\">\n                            <Breadcrumb>\n                                <BreadcrumbList>\n                                    <BreadcrumbItem>\n                                        <BreadcrumbLink\n                                            className=\"cursor-pointer\"\n                                            onClick={() => setCurrentPath([])}\n                                        >\n                                            Home\n                                        </BreadcrumbLink>\n                                    </BreadcrumbItem>\n                                    {currentPath.map((folder, index) => (\n                                        <div key={index} className=\"flex items-center\">\n                                            <BreadcrumbSeparator />\n                                            <BreadcrumbItem>\n                                                {index === currentPath.length - 1 ? (\n                                                    <BreadcrumbPage>{folder}</BreadcrumbPage>\n                                                ) : (\n                                                    <BreadcrumbLink\n                                                        className=\"cursor-pointer\"\n                                                        onClick={() => setCurrentPath(currentPath.slice(0, index + 1))}\n                                                    >\n                                                        {folder}\n                                                    </BreadcrumbLink>\n                                                )}\n                                            </BreadcrumbItem>\n                                        </div>\n                                    ))}\n                                </BreadcrumbList>\n                            </Breadcrumb>\n                            <Button\n                                variant=\"outline\"\n                                size=\"icon\"\n                                className=\"h-6 w-6\"\n                                disabled={currentPath.length === 0}\n                                onClick={() => setCurrentPath(currentPath.slice(0, -1))}\n                            >\n                                <ChevronUp className=\"h-4 w-4\" />\n                            </Button>\n                        </div>\n\n                        <div className=\"flex items-center gap-2\">\n                            <Select value={typeFilter} onValueChange={setTypeFilter}>\n                                <SelectTrigger className=\"w-[120px] h-8 text-xs\">\n                                    <SelectValue placeholder=\"Type\" />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"all\">All Types</SelectItem>\n                                    <SelectItem value=\"folder\">Folders</SelectItem>\n                                    <SelectItem value=\"script\">Scripts</SelectItem>\n                                    <SelectItem value=\"data\">Data</SelectItem>\n                                </SelectContent>\n                            </Select>\n\n                            <Select value={ownerFilter} onValueChange={setOwnerFilter}>\n                                <SelectTrigger className=\"w-[140px] h-8 text-xs\">\n                                    <SelectValue placeholder=\"Owner/Group\" />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"all\">All Owners</SelectItem>\n                                    {owners.map(owner => (\n                                        <SelectItem key={owner} value={owner}>{owner}</SelectItem>\n                                    ))}\n                                </SelectContent>\n                            </Select>\n\n                            <Select value={modifiedFilter} onValueChange={handleModifiedFilterChange}>\n                                <SelectTrigger className=\"w-[120px] h-8 text-xs\">\n                                    <SelectValue placeholder=\"Modified\" />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"newest\">Newest</SelectItem>\n                                    <SelectItem value=\"oldest\">Oldest</SelectItem>\n                                </SelectContent>\n                            </Select>\n\n                            <div className=\"flex items-center border rounded-md bg-background\">\n                                <Button\n                                    variant={viewMode === 'list' ? 'secondary' : 'ghost'}\n                                    size=\"sm\"\n                                    className=\"h-8 px-2 rounded-none rounded-l-md\"\n                                    onClick={() => setViewMode('list')}\n                                >\n                                    <ListIcon className=\"h-4 w-4\" />\n                                </Button>\n                                <Button\n                                    variant={viewMode === 'grid' ? 'secondary' : 'ghost'}\n                                    size=\"sm\"\n                                    className=\"h-8 px-2 rounded-none rounded-r-md\"\n                                    onClick={() => setViewMode('grid')}\n                                >\n                                    <LayoutGrid className=\"h-4 w-4\" />\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                </header>\n\n                {/* Main Content */}\n                <main className=\"flex-1 overflow-auto p-6\">\n                    {currentCategory === 'shared' ? (\n                        <Tabs value={sharedTab} onValueChange={setSharedTab} className=\"w-full\">\n                            <TabsList className=\"mb-4\">\n                                <TabsTrigger value=\"incoming\">Shared with Me</TabsTrigger>\n                                <TabsTrigger value=\"outgoing\">Shared by Me</TabsTrigger>\n                            </TabsList>\n\n                            <TabsContent value=\"incoming\">\n                                <FileList\n                                    files={filteredFiles}\n                                    onFileSelect={handleFileSelect}\n                                    onFolderNavigate={handleFolderNavigate}\n                                    onSort={handleSort}\n                                    sortConfig={sortConfig}\n                                    viewMode={viewMode}\n                                    onDelete={handleDelete}\n                                    onRename={handleRename}\n                                    onCopyPath={handleCopyPath}\n                                    onDownload={handleDownload}\n                                    onShare={handleShare}\n                                />\n                            </TabsContent>\n\n                            <TabsContent value=\"outgoing\">\n                                <div className=\"rounded-md border\">\n                                    <table className=\"w-full caption-bottom text-sm\">\n                                        <thead className=\"[&_tr]:border-b\">\n                                            <tr className=\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\">\n                                                <th className=\"h-12 px-4 text-left align-middle font-medium text-muted-foreground\">File</th>\n                                                <th className=\"h-12 px-4 text-left align-middle font-medium text-muted-foreground\">Shared With</th>\n                                                <th className=\"h-12 px-4 text-left align-middle font-medium text-muted-foreground\">Permissions</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody className=\"[&_tr:last-child]:border-0\">\n                                            {outgoingShares.map((file) => (\n                                                <tr key={file.id} className=\"border-b transition-colors hover:bg-muted/50\">\n                                                    <td className=\"p-4 align-middle font-medium\">{file.name}</td>\n                                                    <td className=\"p-4 align-middle\">\n                                                        <div className=\"flex flex-wrap gap-2\">\n                                                            {file.sharedWith.map((share, idx) => (\n                                                                <Badge key={idx} variant=\"secondary\" className=\"gap-1 pr-1\">\n                                                                    {share.username}\n                                                                    <button\n                                                                        onClick={() => handleUnshare(share.username, file.name)}\n                                                                        className=\"ml-1 rounded-full p-0.5 hover:bg-destructive hover:text-destructive-foreground\"\n                                                                    >\n                                                                        <X className=\"h-3 w-3\" />\n                                                                    </button>\n                                                                </Badge>\n                                                            ))}\n                                                        </div>\n                                                    </td>\n                                                    <td className=\"p-4 align-middle\">\n                                                        <div className=\"flex items-center gap-2\">\n                                                            <Button\n                                                                variant=\"ghost\"\n                                                                size=\"sm\"\n                                                                className={file.permissions.endsWith('4') ? \"text-orange-500\" : \"text-muted-foreground\"}\n                                                                onClick={() => handlePermissionChange(file, '444')}\n                                                                title=\"Set Read Only\"\n                                                            >\n                                                                <Lock className=\"h-4 w-4\" />\n                                                            </Button>\n                                                            <Button\n                                                                variant=\"ghost\"\n                                                                size=\"sm\"\n                                                                className={file.permissions.endsWith('7') || file.permissions.endsWith('6') ? \"text-green-500\" : \"text-muted-foreground\"}\n                                                                onClick={() => handlePermissionChange(file, '644')}\n                                                                title=\"Set Read/Write\"\n                                                            >\n                                                                <Unlock className=\"h-4 w-4\" />\n                                                            </Button>\n                                                            <span className=\"text-xs text-muted-foreground font-mono\">{file.permissions}</span>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                                            ))}\n                                            {outgoingShares.length === 0 && (\n                                                <tr>\n                                                    <td colSpan={3} className=\"p-4 text-center text-muted-foreground\">\n                                                        You haven't shared any files yet.\n                                                    </td>\n                                                </tr>\n                                            )}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </TabsContent>\n                        </Tabs>\n                    ) : (\n                        <FileList\n                            files={filteredFiles}\n                            onFileSelect={handleFileSelect}\n                            onFolderNavigate={handleFolderNavigate}\n                            onSort={handleSort}\n                            sortConfig={sortConfig}\n                            viewMode={viewMode}\n                            onDelete={handleDelete}\n                            onRename={handleRename}\n                            onCopyPath={handleCopyPath}\n                            onDownload={handleDownload}\n                            onShare={handleShare}\n                        />\n                    )}\n                </main>\n            </div>\n\n            <DetailsDrawer\n                isOpen={isDetailsOpen}\n                onClose={() => setIsDetailsOpen(false)}\n                file={selectedFile}\n                onCopyPath={handleCopyPath}\n                onDownload={handleDownload}\n                onShare={handleShare}\n            />\n\n            <ShareDialog\n                isOpen={isShareOpen}\n                onClose={() => setIsShareOpen(false)}\n                onConfirm={handleShareConfirm}\n                file={fileToShare}\n            />\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}}]
}